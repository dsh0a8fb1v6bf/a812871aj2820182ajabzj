for _,v in pairs(game.CoreGui:GetChildren()) do
    if v.Name == "dark_UI" then
        v:Destroy()
    end
end

local dark_UI = Instance.new("ScreenGui")
dark_UI.Name = "dark_UI"
dark_UI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
dark_UI.Parent = game.CoreGui

local Library = {}
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local minimized = false
local closed = false
local originalSize
local originalPos

function Library:Create(table)
    local windowName = table.Name

    local main = Instance.new("Frame")
    main.Name = "main"
    main.BackgroundTransparency = 1
    main.Position = UDim2.new(0.5, 0, 0.5, 0)
    main.Size = UDim2.fromOffset(488, 299)
    main.AnchorPoint = Vector2.new(0.5, 0.5)
    main.Parent = dark_UI

    local contentFrame = Instance.new("Frame")
    contentFrame.Name = "contentFrame"
    contentFrame.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
    contentFrame.Size = UDim2.new(1, 0, 1, 0)
    contentFrame.Position = UDim2.new(0, 0, 0, 0)
    contentFrame.ClipsDescendants = true
    contentFrame.Parent = main

    local uICorner = Instance.new("UICorner")
    uICorner.CornerRadius = UDim.new(0, 8)
    uICorner.Parent = contentFrame

    local title = Instance.new("TextLabel")
    title.Name = "title"
    title.Font = Enum.Font.Gotham
    title.Text = windowName
    title.TextColor3 = Color3.fromRGB(168, 168, 168)
    title.TextSize = 20
    title.BackgroundTransparency = 1
    title.Position = UDim2.new(0, 15, 0, 0)
    title.Size = UDim2.new(1, -100, 0, 50)
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = contentFrame

    local minimizeBtn = Instance.new("ImageButton")
    minimizeBtn.Name = "Minimize"
    minimizeBtn.BackgroundTransparency = 1
    minimizeBtn.Size = UDim2.fromOffset(30, 30)
    minimizeBtn.Position = UDim2.new(1, -75, 0, 8)
    minimizeBtn.Image = "rbxassetid://7733964716"
    minimizeBtn.ImageColor3 = Color3.fromRGB(168, 168, 168)
    minimizeBtn.Parent = contentFrame

    local closeBtn = Instance.new("ImageButton")
    closeBtn.Name = "Close"
    closeBtn.BackgroundTransparency = 1
    closeBtn.Size = UDim2.fromOffset(30, 30)
    closeBtn.Position = UDim2.new(1, -35, 0, 8)
    closeBtn.Image = "rbxassetid://6031094678"
    closeBtn.ImageColor3 = Color3.fromRGB(168, 168, 168)
    closeBtn.Parent = contentFrame

    for _, btn in pairs({minimizeBtn, closeBtn}) do
        btn.MouseEnter:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {ImageColor3 = Color3.fromRGB(255, 255, 255)}):Play()
        end)
        btn.MouseLeave:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {ImageColor3 = Color3.fromRGB(168, 168, 168)}):Play()
        end)
    end

    local tabContainer = Instance.new("Frame")
    tabContainer.Name = "tabContainer"
    tabContainer.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
    tabContainer.Position = UDim2.fromScale(0.0342, 0.188)
    tabContainer.Size = UDim2.fromOffset(454, 30)
    tabContainer.Parent = contentFrame

    local uICorner1 = Instance.new("UICorner")
    uICorner1.CornerRadius = UDim.new(0, 6)
    uICorner1.Parent = tabContainer

    local uIListLayout = Instance.new("UIListLayout")
    uIListLayout.Padding = UDim.new(0, 8)
    uIListLayout.FillDirection = Enum.FillDirection.Horizontal
    uIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    uIListLayout.Parent = tabContainer

    local uIPadding = Instance.new("UIPadding")
    uIPadding.PaddingLeft = UDim.new(0, 7)
    uIPadding.PaddingTop = UDim.new(0, 4)
    uIPadding.Parent = tabContainer

    local shadow = Instance.new("ImageLabel")
    shadow.Name = "shadow"
    shadow.Image = "rbxassetid://297774371"
    shadow.ImageColor3 = Color3.fromRGB(15, 15, 15)
    shadow.ImageTransparency = 0.3
    shadow.SliceCenter = Rect.new(20, 20, 280, 280)
    shadow.BackgroundTransparency = 1
    shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    shadow.Size = UDim2.fromOffset(529, 331)
    shadow.ZIndex = -1
    shadow.AnchorPoint = Vector2.new(0.5, 0.5)
    shadow.Parent = dark_UI

    local reopenBtn = Instance.new("ImageButton")
    reopenBtn.Name = "ReopenBtn"
    reopenBtn.Visible = false
    reopenBtn.Size = UDim2.fromOffset(50, 50)
    reopenBtn.Position = UDim2.new(0.02, 0, 0.5, 0)
    reopenBtn.BackgroundTransparency = 1
    reopenBtn.Image = "rbxassetid://114455038650355"
    reopenBtn.Parent = dark_UI

    local reopenCorner = Instance.new("UICorner")
    reopenCorner.CornerRadius = UDim.new(0, 12)
    reopenCorner.Parent = reopenBtn

    local reopenStroke = Instance.new("UIStroke")
    reopenStroke.Thickness = 2
    reopenStroke.Color = Color3.fromRGB(60, 60, 60)
    reopenStroke.Parent = reopenBtn

    originalSize = main.Size
    originalPos = main.Position

    local tabHandler = {}

    function tabHandler:Exit()
        dark_UI:Destroy()
    end

    function tabHandler:Tab(name)
        local main1 = Instance.new("TextButton")
        main1.Name = name
        main1.Font = Enum.Font.Gotham
        main1.Text = name
        main1.TextColor3 = Color3.fromRGB(195, 195, 195)
        main1.TextSize = 13
        main1.TextTransparency = 0.5
        main1.AutomaticSize = Enum.AutomaticSize.X
        main1.BackgroundTransparency = 1
        main1.Size = UDim2.fromOffset(10, 24)
        main1.Parent = tabContainer

        local container = Instance.new("Frame")
        container.Name = "container"
        container.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
        container.Position = UDim2.fromScale(0.0342, 0.31)
        container.Size = UDim2.fromOffset(454, 183)
        container.Parent = contentFrame
        container.Visible = false
        
        local uICorner2 = Instance.new("UICorner")
        uICorner2.CornerRadius = UDim.new(0, 6)
        uICorner2.Parent = container
        
        local holder = Instance.new("ScrollingFrame")
        holder.Name = "holder"
        holder.ScrollBarImageColor3 = Color3.fromRGB(76, 76, 76)
        holder.ScrollBarThickness = 2
        holder.ScrollingDirection = Enum.ScrollingDirection.Y
        holder.Active = true
        holder.BackgroundTransparency = 1
        holder.Position = UDim2.fromScale(0.0022, 0.00404)
        holder.Size = UDim2.fromOffset(452, 182)
        holder.Parent = container

        local uIPadding1 = Instance.new("UIPadding")
        uIPadding1.PaddingLeft = UDim.new(0, 5)
        uIPadding1.PaddingTop = UDim.new(0, 7)
        uIPadding1.Parent = holder

        local uIListLayout1 = Instance.new("UIListLayout")
        uIListLayout1.Padding = UDim.new(0, 3)
        uIListLayout1.SortOrder = Enum.SortOrder.LayoutOrder
        uIListLayout1.Parent = holder

        local uICorner11 = Instance.new("UICorner")
        uICorner11.CornerRadius = UDim.new(0, 6)
        uICorner11.Parent = holder

        main1.MouseButton1Click:Connect(function()
            for _,v in pairs(contentFrame:GetChildren()) do
                if v.Name == "container" then
                    v.Visible = false
                end
            end
            for _,v in pairs(tabContainer:GetChildren()) do
                if v:IsA('TextButton') then
                    TweenService:Create(v, TweenInfo.new(0.3), {TextTransparency = 0.5}):Play()
                end
            end
            container.Visible = true
            TweenService:Create(main1, TweenInfo.new(0.3), {TextTransparency = 0}):Play()
        end)

        local ElementHandler = {}

        function ElementHandler:Label(text)
            local label = Instance.new("Frame")
            label.Name = "label"
            label.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
            label.Size = UDim2.fromOffset(441, 32)
            label.Parent = holder
    
            local uICorner3 = Instance.new("UICorner")
            uICorner3.CornerRadius = UDim.new(0, 6)
            uICorner3.Parent = label

            local textLabel = Instance.new("TextLabel")
            textLabel.Font = Enum.Font.Gotham
            textLabel.Text = text
            textLabel.TextColor3 = Color3.fromRGB(195, 195, 195)
            textLabel.TextSize = 13
            textLabel.TextXAlignment = Enum.TextXAlignment.Left
            textLabel.BackgroundTransparency = 1
            textLabel.Position = UDim2.fromScale(0.0181, 0)
            textLabel.Size = UDim2.fromOffset(1, 32)
            textLabel.Parent = label
        end

        function ElementHandler:Button(text, callback)
            text = text or "Button"
            callback = callback or function() end

            local button = Instance.new("TextButton")
            button.Name = "button"
            button.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
            button.Size = UDim2.fromOffset(441, 32)
            button.Text = ""
            button.AutoButtonColor = false
            button.Parent = holder

            local uICorner12 = Instance.new("UICorner")
            uICorner12.CornerRadius = UDim.new(0, 6)
            uICorner12.Parent = button

            local textLabel5 = Instance.new("TextLabel")
            textLabel5.Font = Enum.Font.Gotham
            textLabel5.Text = text
            textLabel5.TextColor3 = Color3.fromRGB(195, 195, 195)
            textLabel5.TextSize = 13
            textLabel5.TextXAlignment = Enum.TextXAlignment.Left
            textLabel5.BackgroundTransparency = 1
            textLabel5.Position = UDim2.fromScale(0.0181, 0)
            textLabel5.Size = UDim2.fromOffset(1, 32)
            textLabel5.Parent = button

            local imageLabel = Instance.new("ImageLabel")
            imageLabel.Image = "http://www.roblox.com/asset/?id=9584292194"
            imageLabel.ImageColor3 = Color3.fromRGB(195, 195, 195)
            imageLabel.BackgroundTransparency = 1
            imageLabel.Position = UDim2.fromScale(0.943, 0.219)
            imageLabel.Size = UDim2.fromOffset(18, 18)
            imageLabel.Parent = button

            button.MouseEnter:Connect(function()
                TweenService:Create(button, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(43,43,43)}):Play()
            end)

            button.MouseLeave:Connect(function()
                TweenService:Create(button, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(38,38,38)}):Play()
            end)

            button.MouseButton1Click:Connect(function()
                callback()
            end)
        end

        function ElementHandler:Slider(text, default, min, max, callback)
            text = text or "Slider"
            callback = callback or function() end

            local slider = Instance.new("TextButton")
            slider.Name = "slider"
            slider.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
            slider.Size = UDim2.fromOffset(441, 32)
            slider.Text = ""
            slider.AutoButtonColor = false
            slider.Parent = holder

            local uICorner4 = Instance.new("UICorner")
            uICorner4.CornerRadius = UDim.new(0, 6)
            uICorner4.Parent = slider

            local textLabel1 = Instance.new("TextLabel")
            textLabel1.Font = Enum.Font.Gotham
            textLabel1.Text = text
            textLabel1.TextColor3 = Color3.fromRGB(195, 195, 195)
            textLabel1.TextSize = 13
            textLabel1.TextXAlignment = Enum.TextXAlignment.Left
            textLabel1.BackgroundTransparency = 1
            textLabel1.Position = UDim2.fromScale(0.0181, 0)
            textLabel1.Size = UDim2.fromOffset(1, 32)
            textLabel1.Parent = slider

            local frame = Instance.new("Frame")
            frame.Name = "frame"
            frame.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
            frame.Position = UDim2.fromScale(0.753, 0.375)
            frame.Size = UDim2.fromOffset(102, 8)
            frame.Parent = slider

            local uICorner5 = Instance.new("UICorner")
            uICorner5.CornerRadius = UDim.new(0, 3)
            uICorner5.Parent = frame

            local frame1 = Instance.new("Frame")
            frame1.Name = "frame1"
            frame1.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
            frame1.Size = UDim2.fromOffset(44, 8)
            frame1.Parent = frame

            local uICorner6 = Instance.new("UICorner")
            uICorner6.CornerRadius = UDim.new(0, 3)
            uICorner6.Parent = frame1

            local textLabel2 = Instance.new("TextLabel")
            textLabel2.Font = Enum.Font.Gotham
            textLabel2.Text = tostring(default)
            textLabel2.TextColor3 = Color3.fromRGB(195, 195, 195)
            textLabel2.TextSize = 13
            textLabel2.BackgroundTransparency = 1
            textLabel2.Position = UDim2.fromScale(0.653, 0)
            textLabel2.Size = UDim2.fromOffset(44, 32)
            textLabel2.Parent = slider

            local down = false

            slider.MouseEnter:Connect(function()
                TweenService:Create(slider, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(43,43,43)}):Play()
            end)

            slider.MouseLeave:Connect(function()
                if not down then
                    TweenService:Create(slider, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(38,38,38)}):Play()
                end
            end)

            UserInputService.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    down = false
                    TweenService:Create(slider, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(38,38,38)}):Play()
                end
            end)

            slider.MouseButton1Down:Connect(function()
                TweenService:Create(slider, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(47,47,47)}):Play()
                down = true
                while RunService.RenderStepped:Wait() and down do
                    local percentage = math.clamp((LocalPlayer:GetMouse().X - frame.AbsolutePosition.X) / frame.AbsoluteSize.X, 0, 1)
                    local value = math.floor(((max - min) * percentage) + min)
                    textLabel2.Text = value
                    TweenService:Create(frame1, TweenInfo.new(0.06), {Size = UDim2.fromOffset(frame.AbsoluteSize.X * percentage, 8)}):Play()
                    callback(value)
                end
            end)
        end

        function ElementHandler:Toggle(text, callback)
            text = text or "Toggle"
            callback = callback or function() end

            local toggle1 = Instance.new("TextButton")
            toggle1.Name = "toggle1"
            toggle1.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
            toggle1.Size = UDim2.fromOffset(441, 32)
            toggle1.Text = ""
            toggle1.AutoButtonColor = false
            toggle1.Parent = holder

            local uICorner9 = Instance.new("UICorner")
            uICorner9.CornerRadius = UDim.new(0, 6)
            uICorner9.Parent = toggle1

            local textLabel4 = Instance.new("TextLabel")
            textLabel4.Font = Enum.Font.Gotham
            textLabel4.Text = text
            textLabel4.TextColor3 = Color3.fromRGB(195, 195, 195)
            textLabel4.TextSize = 13
            textLabel4.TextXAlignment = Enum.TextXAlignment.Left
            textLabel4.BackgroundTransparency = 1
            textLabel4.Position = UDim2.fromScale(0.0181, 0)
            textLabel4.Size = UDim2.fromOffset(1, 32)
            textLabel4.Parent = toggle1

            local frame3 = Instance.new("Frame")
            frame3.Name = "frame3"
            frame3.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
            frame3.Position = UDim2.fromScale(0.943, 0.219)
            frame3.Size = UDim2.fromOffset(18, 18)
            frame3.Parent = toggle1

            local uICorner10 = Instance.new("UICorner")
            uICorner10.CornerRadius = UDim.new(0, 3)
            uICorner10.Parent = frame3

            local uIStroke1 = Instance.new("UIStroke")
            uIStroke1.Color = Color3.fromRGB(76, 76, 76)
            uIStroke1.Parent = frame3

            local tog = false

            toggle1.MouseEnter:Connect(function()
                TweenService:Create(toggle1, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(43,43,43)}):Play()
            end)

            toggle1.MouseLeave:Connect(function()
                TweenService:Create(toggle1, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(38,38,38)}):Play()
            end)

            toggle1.MouseButton1Click:Connect(function()
                tog = not tog
                callback(tog)
                if tog then
                    TweenService:Create(frame3, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(23, 143, 75)}):Play()
                    TweenService:Create(uIStroke1, TweenInfo.new(0.2), {Color = Color3.fromRGB(32, 202, 106)}):Play()
                else
                    TweenService:Create(frame3, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(45, 45, 45)}):Play()
                    TweenService:Create(uIStroke1, TweenInfo.new(0.2), {Color = Color3.fromRGB(76, 76, 76)}):Play()
                end
            end)
        end

        function ElementHandler:Textbox(text, callback)
            text = text or "Textbox"
            callback = callback or function() end

            local textbox = Instance.new("Frame")
            textbox.Name = "textbox"
            textbox.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
            textbox.Size = UDim2.fromOffset(441, 32)
            textbox.Parent = holder

            local uICorner13 = Instance.new("UICorner")
            uICorner13.CornerRadius = UDim.new(0, 6)
            uICorner13.Parent = textbox

            local textLabel6 = Instance.new("TextLabel")
            textLabel6.Font = Enum.Font.Gotham
            textLabel6.Text = text
            textLabel6.TextColor3 = Color3.fromRGB(195, 195, 195)
            textLabel6.TextSize = 13
            textLabel6.TextXAlignment = Enum.TextXAlignment.Left
            textLabel6.BackgroundTransparency = 1
            textLabel6.Position = UDim2.fromScale(0.0181, 0)
            textLabel6.Size = UDim2.fromOffset(1, 32)
            textLabel6.Parent = textbox

            local textBox = Instance.new("TextBox")
            textBox.Font = Enum.Font.SourceSans
            textBox.Text = ""
            textBox.TextColor3 = Color3.fromRGB(195, 195, 195)
            textBox.TextSize = 12
            textBox.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
            textBox.Position = UDim2.fromScale(0.864, 0.188)
            textBox.Size = UDim2.fromOffset(52, 19)
            textBox.Parent = textbox

            local uICorner14 = Instance.new("UICorner")
            uICorner14.CornerRadius = UDim.new(0, 6)
            uICorner14.Parent = textBox

            textbox.MouseEnter:Connect(function()
                TweenService:Create(textbox, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(43,43,43)}):Play()
            end)

            textbox.MouseLeave:Connect(function()
                TweenService:Create(textbox, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(38,38,38)}):Play()
            end)

            textBox.FocusLost:Connect(function()
                callback(textBox.Text)
            end)
        end

        return ElementHandler
    end

    local function makeDraggable(frame, targetFrame, targetShadow)
        local dragging = false
        local dragInput
        local dragStart
        local startPos

        local function update(input)
            local delta = input.Position - dragStart
            local newPos = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            TweenService:Create(targetFrame or frame, TweenInfo.new(0.1), {Position = newPos}):Play()
            if targetShadow then
                TweenService:Create(targetShadow, TweenInfo.new(0.1), {Position = newPos}):Play()
            end
        end

        frame.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = true
                dragStart = input.Position
                startPos = (targetFrame or frame).Position
                local conn
                conn = input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then
                        dragging = false
                        conn:Disconnect()
                    end
                end)
            end
        end)

        frame.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement then
                dragInput = input
            end
        end)

        UserInputService.InputChanged:Connect(function(input)
            if dragging and input == dragInput then
                update(input)
            end
        end)
    end

    makeDraggable(contentFrame, main, shadow)
    makeDraggable(reopenBtn)

    tabContainer.ChildAdded:Connect(function()
        pcall(function()
            repeat task.wait() until tabContainer:FindFirstChildWhichIsA('TextButton')
            local firstTab = tabContainer:FindFirstChildWhichIsA('TextButton')
            if firstTab then
                firstTab.MouseButton1Click:Fire()
            end
        end)
    end)

    spawn(function()
        if table.StartupSound and table.StartupSound.Toggle then
            local sound = Instance.new("Sound")
            sound.SoundId = "rbxassetid://6958727243"
            sound.Volume = 1.5
            sound.TimePosition = table.StartupSound.TimePosition or 0
            sound.Parent = game.CoreGui
            sound:Play()
            sound.Ended:Wait()
            sound:Destroy()
        end
    end)

    local minimizedSize = UDim2.fromOffset(488, 60)
    local minimizedShadowSize = UDim2.fromOffset(529, 100)

    minimizeBtn.MouseButton1Click:Connect(function()
        if closed then return end
        minimized = not minimized
        
        if minimized then
            TweenService:Create(main, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = minimizedSize}):Play()
            TweenService:Create(shadow, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = minimizedShadowSize}):Play()
            tabContainer.Visible = false
            for _, v in pairs(contentFrame:GetChildren()) do
                if v.Name == "container" then
                    v.Visible = false
                end
            end
        else
            TweenService:Create(main, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = originalSize}):Play()
            TweenService:Create(shadow, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = UDim2.fromOffset(529, 331)}):Play()
            tabContainer.Visible = true
            for _, tabBtn in pairs(tabContainer:GetChildren()) do
                if tabBtn:IsA("TextButton") and tabBtn.TextTransparency == 0 then
                    local container = contentFrame:FindFirstChild("container")
                    if container then
                        container.Visible = true
                    end
                    break
                end
            end
        end
    end)

    closeBtn.MouseButton1Click:Connect(function()
        if minimized then minimized = false end
        closed = true
        
        TweenService:Create(main, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = UDim2.fromOffset(488, 0)}):Play()
        TweenService:Create(shadow, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = UDim2.fromOffset(529, 0)}):Play()
        
        task.wait(0.4)
        main.Visible = false
        shadow.Visible = false
        reopenBtn.Visible = true
    end)

    reopenBtn.MouseButton1Click:Connect(function()
        closed = false
        main.Visible = true
        shadow.Visible = true
        reopenBtn.Visible = false
        
        TweenService:Create(main, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = originalSize, Position = originalPos}):Play()
        TweenService:Create(shadow, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Size = UDim2.fromOffset(529, 331), Position = originalPos}):Play()
        
        if minimized then
            task.delay(0.1, function()
                minimizeBtn.MouseButton1Click:Fire()
            end)
        end
    end)

    return tabHandler
end

return Library
